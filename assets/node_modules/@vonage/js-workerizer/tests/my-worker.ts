import { registerWorker } from "../src/index";
import { isWorker } from "../src/utils/is-worker";
import { getMyGlobal, setMyGlobal } from "./my-global";

let globalVariable = 0;

export class MyWorker {
  public increment(value: number = 1) {
    globalVariable += value;
  }

  public value(): number {
    return globalVariable;
  }

  public getGlobal(): number {
    return getMyGlobal();
  }

  public setGlobal(value: number) {
    setMyGlobal(value);
  }

  public isWorker(): boolean {
    return isWorker();
  }

  public terminate(): number {
    return globalVariable;
  }

  static {
    registerWorker("MyWorker", MyWorker);
  }
}
