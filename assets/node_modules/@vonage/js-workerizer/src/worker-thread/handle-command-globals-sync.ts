import { Command } from "../interfaces";
import { postCommand } from "./post-command";
import { copy } from "../utils/copy";
import { globals } from "../globals/globals";

/**
 * Handle command of type CommandType.GLOBALS_SYNC.
 * It will update the worker globals with args[0] value
 * @internal
 * @param command Requested command
 */
export function handleCommandGlobalsSync(command: Command): void {
  if (!command.args) {
    throw "Missing globals while syncing";
  }

  copy(command.args[0], globals);
  postCommand(command, {});
}
